<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Frame flow control"><title>esp32::emac_mac::emacfc - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="esp32" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0-nightly (88269fa9e 2024-02-09) (1.76.0.1)" data-channel="nightly" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../esp32/index.html"><img src="https://avatars.githubusercontent.com/u/46717278" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../esp32/index.html"><img src="https://avatars.githubusercontent.com/u/46717278" alt="logo"></a><h2><a href="../../../esp32/index.html">esp32</a><span class="version">0.29.0</span></h2></div><h2 class="location"><a href="#">Module emacfc</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In esp32::emac_mac</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../esp32/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">esp32</a>::<wbr><a href="../index.html">emac_mac</a>::<wbr><a class="mod" href="#">emacfc</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/esp32/emac_mac/emacfc.rs.html#1-159">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Frame flow control</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.EMACFC_SPEC.html" title="struct esp32::emac_mac::emacfc::EMACFC_SPEC">EMACFC_SPEC</a></div><div class="desc docblock-short">Frame flow control</div></li></ul><h2 id="types" class="section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DZPQ_R.html" title="type esp32::emac_mac::emacfc::DZPQ_R">DZPQ_R</a></div><div class="desc docblock-short">Field <code>DZPQ</code> reader - When this bit is set it disables the automatic generation of the Zero-Quanta Pause frames on the de-assertion of the flow-control signal from the FIFO layer. When this bit is reset normal operation with automatic Zero-Quanta Pause frame generation is enabled.</div></li><li><div class="item-name"><a class="type" href="type.DZPQ_W.html" title="type esp32::emac_mac::emacfc::DZPQ_W">DZPQ_W</a></div><div class="desc docblock-short">Field <code>DZPQ</code> writer - When this bit is set it disables the automatic generation of the Zero-Quanta Pause frames on the de-assertion of the flow-control signal from the FIFO layer. When this bit is reset normal operation with automatic Zero-Quanta Pause frame generation is enabled.</div></li><li><div class="item-name"><a class="type" href="type.FCBBA_R.html" title="type esp32::emac_mac::emacfc::FCBBA_R">FCBBA_R</a></div><div class="desc docblock-short">Field <code>FCBBA</code> reader - This bit initiates a Pause frame in the full-duplex mode and activates the backpressure function in the half-duplex mode if the TFCE bit is set. In the full-duplex mode this bit should be read as 1’b0 before writing to the Flow Control register. To initiate a Pause frame the Application must set this bit to 1’b1. During a transfer of the Control Frame this bit continues to be set to signify that a frame transmission is in progress. After the completion of Pause frame transmission the MAC resets this bit to 1’b0. The Flow Control register should not be written to until this bit is cleared. In the half-duplex mode when this bit is set (and TFCE is set) then backpressure is asserted by the MAC. During backpressure when the MAC receives a new frame the transmitter starts sending a JAM pattern resulting in a collision. When the MAC is configured for the full-duplex mode the BPA(backpressure activate) is automatically disabled.</div></li><li><div class="item-name"><a class="type" href="type.FCBBA_W.html" title="type esp32::emac_mac::emacfc::FCBBA_W">FCBBA_W</a></div><div class="desc docblock-short">Field <code>FCBBA</code> writer - This bit initiates a Pause frame in the full-duplex mode and activates the backpressure function in the half-duplex mode if the TFCE bit is set. In the full-duplex mode this bit should be read as 1’b0 before writing to the Flow Control register. To initiate a Pause frame the Application must set this bit to 1’b1. During a transfer of the Control Frame this bit continues to be set to signify that a frame transmission is in progress. After the completion of Pause frame transmission the MAC resets this bit to 1’b0. The Flow Control register should not be written to until this bit is cleared. In the half-duplex mode when this bit is set (and TFCE is set) then backpressure is asserted by the MAC. During backpressure when the MAC receives a new frame the transmitter starts sending a JAM pattern resulting in a collision. When the MAC is configured for the full-duplex mode the BPA(backpressure activate) is automatically disabled.</div></li><li><div class="item-name"><a class="type" href="type.PAUSE_TIME_R.html" title="type esp32::emac_mac::emacfc::PAUSE_TIME_R">PAUSE_TIME_R</a></div><div class="desc docblock-short">Field <code>PAUSE_TIME</code> reader - This field holds the value to be used in the Pause Time field in the transmit control frame. If the Pause Time bits is configured to be double-synchronized to the MII clock domain then consecutive writes to this register should be performed only after at least four clock cycles in the destination clock domain.</div></li><li><div class="item-name"><a class="type" href="type.PAUSE_TIME_W.html" title="type esp32::emac_mac::emacfc::PAUSE_TIME_W">PAUSE_TIME_W</a></div><div class="desc docblock-short">Field <code>PAUSE_TIME</code> writer - This field holds the value to be used in the Pause Time field in the transmit control frame. If the Pause Time bits is configured to be double-synchronized to the MII clock domain then consecutive writes to this register should be performed only after at least four clock cycles in the destination clock domain.</div></li><li><div class="item-name"><a class="type" href="type.PLT_R.html" title="type esp32::emac_mac::emacfc::PLT_R">PLT_R</a></div><div class="desc docblock-short">Field <code>PLT</code> reader - This field configures the threshold of the Pause timer automatic retransmission of the Pause frame.The threshold values should be always less than the Pause Time configured in Bits[31:16]. For example if PT = 100H (256 slot-times) and PLT = 01 then a second Pause frame is automatically transmitted at 228 (256-28) slot times after the first Pause frame is transmitted. The following list provides the threshold values for different values: 2’b00: The threshold is Pause time minus 4 slot times (PT-4 slot times). 2’b01: The threshold is Pause time minus 28 slot times (PT-28 slot times). 2’b10: The threshold is Pause time minus 144 slot times (PT-144 slot times). 2’b11: The threshold is Pause time minus 256 slot times (PT-256 slot times). The slot time is defined as the time taken to transmit 512 bits (64 bytes) on the MII interface.</div></li><li><div class="item-name"><a class="type" href="type.PLT_W.html" title="type esp32::emac_mac::emacfc::PLT_W">PLT_W</a></div><div class="desc docblock-short">Field <code>PLT</code> writer - This field configures the threshold of the Pause timer automatic retransmission of the Pause frame.The threshold values should be always less than the Pause Time configured in Bits[31:16]. For example if PT = 100H (256 slot-times) and PLT = 01 then a second Pause frame is automatically transmitted at 228 (256-28) slot times after the first Pause frame is transmitted. The following list provides the threshold values for different values: 2’b00: The threshold is Pause time minus 4 slot times (PT-4 slot times). 2’b01: The threshold is Pause time minus 28 slot times (PT-28 slot times). 2’b10: The threshold is Pause time minus 144 slot times (PT-144 slot times). 2’b11: The threshold is Pause time minus 256 slot times (PT-256 slot times). The slot time is defined as the time taken to transmit 512 bits (64 bytes) on the MII interface.</div></li><li><div class="item-name"><a class="type" href="type.R.html" title="type esp32::emac_mac::emacfc::R">R</a></div><div class="desc docblock-short">Register <code>EMACFC</code> reader</div></li><li><div class="item-name"><a class="type" href="type.RFCE_R.html" title="type esp32::emac_mac::emacfc::RFCE_R">RFCE_R</a></div><div class="desc docblock-short">Field <code>RFCE</code> reader - When this bit is set the MAC decodes the received Pause frame and disables its transmitter for a specified (Pause) time. When this bit is reset the decode function of the Pause frame is disabled.</div></li><li><div class="item-name"><a class="type" href="type.RFCE_W.html" title="type esp32::emac_mac::emacfc::RFCE_W">RFCE_W</a></div><div class="desc docblock-short">Field <code>RFCE</code> writer - When this bit is set the MAC decodes the received Pause frame and disables its transmitter for a specified (Pause) time. When this bit is reset the decode function of the Pause frame is disabled.</div></li><li><div class="item-name"><a class="type" href="type.TFCE_R.html" title="type esp32::emac_mac::emacfc::TFCE_R">TFCE_R</a></div><div class="desc docblock-short">Field <code>TFCE</code> reader - In the full-duplex mode when this bit is set the MAC enables the flow control operation to transmit Pause frames. When this bit is reset the flow control operation in the MAC is disabled and the MAC does not transmit any Pause frames. In the half-duplex mode when this bit is set the MAC enables the backpressure operation. When this bit is reset the backpressure feature is Disabled.</div></li><li><div class="item-name"><a class="type" href="type.TFCE_W.html" title="type esp32::emac_mac::emacfc::TFCE_W">TFCE_W</a></div><div class="desc docblock-short">Field <code>TFCE</code> writer - In the full-duplex mode when this bit is set the MAC enables the flow control operation to transmit Pause frames. When this bit is reset the flow control operation in the MAC is disabled and the MAC does not transmit any Pause frames. In the half-duplex mode when this bit is set the MAC enables the backpressure operation. When this bit is reset the backpressure feature is Disabled.</div></li><li><div class="item-name"><a class="type" href="type.UPFD_R.html" title="type esp32::emac_mac::emacfc::UPFD_R">UPFD_R</a></div><div class="desc docblock-short">Field <code>UPFD</code> reader - A pause frame is processed when it has the unique multicast address specified in the IEEE Std 802.3. When this bit is set the MAC can also detect Pause frames with unicast address of the station. This unicast address should be as specified in the EMACADDR0 High Register and EMACADDR0 Low Register. When this bit is reset the MAC only detects Pause frames with unique multicast address.</div></li><li><div class="item-name"><a class="type" href="type.UPFD_W.html" title="type esp32::emac_mac::emacfc::UPFD_W">UPFD_W</a></div><div class="desc docblock-short">Field <code>UPFD</code> writer - A pause frame is processed when it has the unique multicast address specified in the IEEE Std 802.3. When this bit is set the MAC can also detect Pause frames with unicast address of the station. This unicast address should be as specified in the EMACADDR0 High Register and EMACADDR0 Low Register. When this bit is reset the MAC only detects Pause frames with unique multicast address.</div></li><li><div class="item-name"><a class="type" href="type.W.html" title="type esp32::emac_mac::emacfc::W">W</a></div><div class="desc docblock-short">Register <code>EMACFC</code> writer</div></li></ul></section></div></main></body></html>