<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Register `CTRL` writer"><title>W in esp32p4::sdhost::ctrl - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="esp32p4" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (878c8a2a6 2024-02-29)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../esp32p4/index.html"><img src="https://avatars.githubusercontent.com/u/46717278" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../esp32p4/index.html"><img src="https://avatars.githubusercontent.com/u/46717278" alt="logo"></a><h2><a href="../../../esp32p4/index.html">esp32p4</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">W</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.abort_read_data">abort_read_data</a></li><li><a href="#method.bits">bits</a></li><li><a href="#method.ceata_device_interrupt_status">ceata_device_interrupt_status</a></li><li><a href="#method.controller_reset">controller_reset</a></li><li><a href="#method.dma_reset">dma_reset</a></li><li><a href="#method.fifo_reset">fifo_reset</a></li><li><a href="#method.int_enable">int_enable</a></li><li><a href="#method.read_wait">read_wait</a></li><li><a href="#method.send_auto_stop_ccsd">send_auto_stop_ccsd</a></li><li><a href="#method.send_ccsd">send_ccsd</a></li><li><a href="#method.send_irq_response">send_irq_response</a></li></ul></section><h2><a href="index.html">In esp32p4::sdhost::ctrl</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../esp32p4/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../../index.html">esp32p4</a>::<wbr><a href="../index.html">sdhost</a>::<wbr><a href="index.html">ctrl</a>::<wbr><a class="type" href="#">W</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/esp32p4/sdhost/ctrl.rs.html#4">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type W = <a class="type" href="../../generic/type.W.html" title="type esp32p4::generic::W">W</a>&lt;<a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Register <code>CTRL</code> writer</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct W { <span class="comment">/* private fields */</span> }</code></pre><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-W%3CCTRL_SPEC%3E" class="impl"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#135-206">source</a><a href="#impl-W%3CCTRL_SPEC%3E" class="anchor">§</a><h3 class="code-header">impl <a class="type" href="type.W.html" title="type esp32p4::sdhost::ctrl::W">W</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.controller_reset" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#139-141">source</a><h4 class="code-header">pub fn <a href="#method.controller_reset" class="fn">controller_reset</a>(&amp;mut self) -&gt; <a class="type" href="type.CONTROLLER_RESET_W.html" title="type esp32p4::sdhost::ctrl::CONTROLLER_RESET_W">CONTROLLER_RESET_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 0 - To reset controller, firmware should set this bit. This bit is auto-cleared after two AHB and two sdhost_cclk_in clock cycles.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fifo_reset" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#145-147">source</a><h4 class="code-header">pub fn <a href="#method.fifo_reset" class="fn">fifo_reset</a>(&amp;mut self) -&gt; <a class="type" href="type.FIFO_RESET_W.html" title="type esp32p4::sdhost::ctrl::FIFO_RESET_W">FIFO_RESET_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 1 - To reset FIFO, firmware should set bit to 1. This bit is auto-cleared after completion of reset operation. Note: FIFO pointers will be out of reset after 2 cycles of system clocks in addition to synchronization delay (2 cycles of card clock), after the fifo_reset is cleared.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.dma_reset" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#151-153">source</a><h4 class="code-header">pub fn <a href="#method.dma_reset" class="fn">dma_reset</a>(&amp;mut self) -&gt; <a class="type" href="type.DMA_RESET_W.html" title="type esp32p4::sdhost::ctrl::DMA_RESET_W">DMA_RESET_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 2 - To reset DMA interface, firmware should set bit to 1. This bit is auto-cleared after two AHB clocks.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.int_enable" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#157-159">source</a><h4 class="code-header">pub fn <a href="#method.int_enable" class="fn">int_enable</a>(&amp;mut self) -&gt; <a class="type" href="type.INT_ENABLE_W.html" title="type esp32p4::sdhost::ctrl::INT_ENABLE_W">INT_ENABLE_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 4 - Global interrupt enable/disable bit. 0: Disable; 1: Enable.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_wait" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#163-165">source</a><h4 class="code-header">pub fn <a href="#method.read_wait" class="fn">read_wait</a>(&amp;mut self) -&gt; <a class="type" href="type.READ_WAIT_W.html" title="type esp32p4::sdhost::ctrl::READ_WAIT_W">READ_WAIT_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 6 - For sending read-wait to SDIO cards.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.send_irq_response" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#169-171">source</a><h4 class="code-header">pub fn <a href="#method.send_irq_response" class="fn">send_irq_response</a>(&amp;mut self) -&gt; <a class="type" href="type.SEND_IRQ_RESPONSE_W.html" title="type esp32p4::sdhost::ctrl::SEND_IRQ_RESPONSE_W">SEND_IRQ_RESPONSE_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 7 - Bit automatically clears once response is sent. To wait for MMC card interrupts, host issues CMD40 and waits for interrupt response from MMC card(s). In the meantime, if host wants SD/MMC to exit waiting for interrupt state, it can set this bit, at which time SD/MMC command state-machine sends CMD40 response on bus and returns to idle state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.abort_read_data" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#175-177">source</a><h4 class="code-header">pub fn <a href="#method.abort_read_data" class="fn">abort_read_data</a>(&amp;mut self) -&gt; <a class="type" href="type.ABORT_READ_DATA_W.html" title="type esp32p4::sdhost::ctrl::ABORT_READ_DATA_W">ABORT_READ_DATA_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 8 - After a suspend-command is issued during a read-operation, software polls the card to find when the suspend-event occurred. Once the suspend-event has occurred, software sets the bit which will reset the data state machine that is waiting for the next block of data. This bit is automatically cleared once the data state machine is reset to idle.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.send_ccsd" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#181-183">source</a><h4 class="code-header">pub fn <a href="#method.send_ccsd" class="fn">send_ccsd</a>(&amp;mut self) -&gt; <a class="type" href="type.SEND_CCSD_W.html" title="type esp32p4::sdhost::ctrl::SEND_CCSD_W">SEND_CCSD_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 9 - When set, SD/MMC sends CCSD to the CE-ATA device. Software sets this bit only if the current command is expecting CCS (that is, RW_BLK), and if interrupts are enabled for the CE-ATA device. Once the CCSD pattern is sent to the device, SD/MMC automatically clears the SDHOST_SEND_CCSD bit. It also sets the Command Done (CD) bit in the SDHOST_RINTSTS_REG register, and generates an interrupt for the host, in case the Command Done interrupt is not masked. NOTE: Once the SDHOST_SEND_CCSD bit is set, it takes two card clock cycles to drive the CCSD on the CMD line. Due to this, within the boundary conditions the CCSD may be sent to the CE-ATA device, even if the device has signalled CCS.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.send_auto_stop_ccsd" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#187-189">source</a><h4 class="code-header">pub fn <a href="#method.send_auto_stop_ccsd" class="fn">send_auto_stop_ccsd</a>(&amp;mut self) -&gt; <a class="type" href="type.SEND_AUTO_STOP_CCSD_W.html" title="type esp32p4::sdhost::ctrl::SEND_AUTO_STOP_CCSD_W">SEND_AUTO_STOP_CCSD_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 10 - Always Set SDHOST_SEND_AUTO_STOP_CCSD and SDHOST_SEND_CCSD bits together; SDHOST_SEND_AUTO_STOP_CCSD should not be set independently of send_ccsd. When set, SD/MMC automatically sends an internally-generated STOP command (CMD12) to the CE-ATA device. After sending this internally-generated STOP command, the Auto Command Done (ACD) bit in SDHOST_RINTSTS_REG is set and an interrupt is generated for the host, in case the ACD interrupt is not masked. After sending the Command Completion Signal Disable (CCSD), SD/MMC automatically clears the SDHOST_SEND_AUTO_STOP_CCSD bit.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.ceata_device_interrupt_status" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#193-195">source</a><h4 class="code-header">pub fn <a href="#method.ceata_device_interrupt_status" class="fn">ceata_device_interrupt_status</a>(
    &amp;mut self
) -&gt; <a class="type" href="type.CEATA_DEVICE_INTERRUPT_STATUS_W.html" title="type esp32p4::sdhost::ctrl::CEATA_DEVICE_INTERRUPT_STATUS_W">CEATA_DEVICE_INTERRUPT_STATUS_W</a>&lt;'_, <a class="struct" href="struct.CTRL_SPEC.html" title="struct esp32p4::sdhost::ctrl::CTRL_SPEC">CTRL_SPEC</a>&gt;</h4></section></summary><div class="docblock"><p>Bit 11 - Software should appropriately write to this bit after the power-on reset or any other reset to the CE-ATA device. After reset, the CE-ATA device’s interrupt is usually disabled (nIEN = 1). If the host enables the CE-ATA device’s interrupt, then software should set this bit.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.bits" class="method"><a class="src rightside" href="../../../src/esp32p4/sdhost/ctrl.rs.html#202-205">source</a><h4 class="code-header">pub unsafe fn <a href="#method.bits" class="fn">bits</a>(&amp;mut self, bits: u32) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Writes raw bits to the register.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>Passing incorrect value can cause undefined behaviour. See reference manual</p>
</div></details></div></details></div></section></div></main></body></html>